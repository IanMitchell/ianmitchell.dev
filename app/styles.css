@import "tailwindcss";

@theme {
	--font-mono:
		var(--font-berkeley), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
		"Liberation Mono", "Courier New", monospace;

	--color-theme-orange: oklch(68.69% 0.219 35.88);
	--color-theme-blue: rgb(0, 100, 230);
	--color-theme-yellow: rgb(240, 244, 165);

	--color-theme-orange-light: oklch(78.69% 0.219 35.88);

	--color-dark-theme-orange: oklch(58.69% 0.219 35.88);
	--color-dark-theme-primary: #020d19;
	--color-dark-theme-secondary: #0b1215;
	--color-dark-theme-white: #efefef;

	--backtick: "`";
}

html {
	tab-size: 2;
	hanging-punctuation: first last;
}

li > ol,
li > ul {
	margin-left: 2rem;
}

p > code {
	text-wrap: wrap;
}

.counter-reset {
	counter-reset: count 0;
	list-style-type: none;
}

.counter-increment {
	counter-increment: count 1;
}

.counter-content::before {
	content: "0" counter(count) !important;
}

.filter-subtle-blur {
	filter: blur(20px) opacity(0.4);
}

/**
 * MDX helpers for GFM
 */

.footnotes {
	margin-top: 4rem;
}

.footnotes::before {
	display: block;
	content: "";
	width: 100%;
	border-top: 1px solid black;
	padding-top: 1rem;
}

.sr-only {
	position: absolute;
	left: -10000px;
	top: auto;
	width: 1px;
	height: 1px;
	overflow: hidden;
}

code {
	counter-reset: line;
}

code[data-line-numbers] > [data-line]::before {
	content: "";
	display: inline-block;
	width: 1rem;
	margin-right: 2rem;
	text-align: right;
	color: gray;
}

code[data-line-numbers] > [data-line]::before {
	counter-increment: line;
	content: counter(line);
}

code[data-line-numbers-max-digits="2"] > [data-line-numbers]::before {
	width: 2rem;
}

code[data-line-numbers-max-digits="3"] > [data-line-numbers]::before {
	width: 3rem;
}

.diff.add {
	background-color: rgba(68, 187, 119, 0.2);
}

.diff.add[data-line]::before {
	color: #4b7;
	counter-increment: line 1;
	content: "+";
}

.diff.remove {
	background-color: rgba(238, 62, 62, 0.2);
}

.diff.remove[data-line]::before {
	color: #ee3e3e;
	content: "-";
}

code > [data-highlighted-line] {
	background-color: rgba(68, 119, 187, 0.2);
}

code > [data-highlighted-chars] {
	background-color: rgba(68, 119, 187, 0.2);
}

/**
 * Blog post styling
 */

article {
	counter-reset: section;
}

article > h1 {
	@apply mt-4 mb-12 w-full text-center uppercase;
}

article > h1 a {
	&:after {
		content: "â†—";
		display: inline-block;
		margin-left: 0.5rem;
	}
}

article > h2 {
	counter-increment: section;
	counter-reset: subsection;
}

article > h2::before {
	content: counters(section, "") ". ";
}

article > h2,
article > h3 {
	margin-left: -2ch;
	font-weight: 700;
}

/*article > :not(h1, h2, h3) {
	margin-left: 2ch;
}*/

article > h3 {
	counter-increment: subsection;
}

article > h3::before {
	content: counters(section, "") "." counters(subsection, "") ". ";
}

article > iframe {
	@apply mb-4;
}

article > ul ol,
article > ul ul,
article > ol ol,
article > ol ul {
	margin-top: 0;
	margin-bottom: 0;
	margin-left: 0;
}

article > ol > li:has(ol, ul),
article > ul > li:has(ol, ul) {
	margin-bottom: 1rem;
}
